(function(e){function t(t){for(var n,o,i=t[0],s=t[1],u=t[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(f.length)f.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"4c76":function(e,t,r){e.exports=r.p+"img/no_data.958df952.png"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"deep-purple accent-4",dense:"",dark:""}},[r("v-toolbar-title",{attrs:{color:"purple"}},[e._v("Vue Instgram")])],1),r("v-main",[r("Main")],1)],1)},c=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{id:"main",fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("div",{staticClass:"d-flex justify-start mb-12"},[r("Users")],1)]),r("v-col",{attrs:{cols:"12"}},[r("Search")],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("List")],1)],1)],1)},i=[],s=r("5530"),u=r("2f62"),l="artnightevents",d=[l,"shakenightevents","plantnightevents"],f="https://www.instagram.com/:username/?__a=1",m=150,p={all:null,photos:function(e){return!e.isVideo},videos:function(e){return e.isVideo}},v="fetch_data",b="start_loading",h="stop_loading",g="set_current_user",_="change_filter",O="empty_feeds",j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.users,(function(t){return r("v-chip",{key:t,staticClass:"ma-2",attrs:{"text-color":t===e.currentUser?"white":"deep-purple accent-4",color:t===e.currentUser?"deep-purple accent-4":"white"},on:{click:function(r){return e.fetch_data({username:t})}}},[r("v-avatar",{attrs:{left:""}},[r("v-icon",[e._v("mdi-account-circle")])],1),e._v(" "+e._s(t)+" ")],1)})),1)},w=[],x={name:"Users",data:function(){return{users:d}},computed:Object(s["a"])({},Object(u["c"])(["currentUser"])),methods:Object(s["a"])({},Object(u["b"])([v]))},y=x,V=r("2877"),F=r("6544"),k=r.n(F),C=r("8212"),R=r("cc20"),I=r("132d"),N=Object(V["a"])(y,j,w,!1,null,null,null),S=N.exports;k()(N,{VAvatar:C["a"],VChip:R["a"],VIcon:I["a"]});var U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.usernameRules,label:"Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{type:"number",rules:e.noOfFeedsRules,label:"Number of Feeds",required:""},model:{value:e.numberOfFeeds,callback:function(t){e.numberOfFeeds=t},expression:"numberOfFeeds"}}),r("v-btn",{staticClass:"ma-2 white--text",attrs:{disabled:!e.valid||e.loading,color:"deep-purple accent-4"},on:{click:e.getFeeds}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-instagram")]),e._v("Get Feeds ")],1)],1)},E=[],T=(r("a9e3"),{name:"Search",data:function(){return{valid:!0,username:null,numberOfFeeds:null,usernameRules:[function(e){return!!e||"Username is required"}],noOfFeedsRules:[function(e){return!!e&&Number(e)>0||"Number of feeds is required"}]}},computed:Object(s["a"])({},Object(u["c"])(["currentUser","currentFeedsNumber","loading"])),methods:Object(s["a"])(Object(s["a"])({},Object(u["b"])([v])),{},{getFeeds:function(){this.valid&&this.fetch_data({username:this.username,numberOfFeeds:this.numberOfFeeds})}}),watch:{currentUser:function(e){this.username=e},currentFeedsNumber:function(e){this.numberOfFeeds=e}}}),$=T,L=r("8336"),M=r("4bd4"),P=r("8654"),q=Object(V["a"])($,U,E,!1,null,null,null),z=q.exports;k()(q,{VBtn:L["a"],VForm:M["a"],VIcon:I["a"],VTextField:P["a"]});var A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[e.loading?r("v-progress-linear",{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}}):e._e()],1),e.feeds.length||e.loading?e._t("default",[e.feeds.length?r("v-col",{staticClass:"d-flex justify-end mb-12",attrs:{cols:"12"}},[r("Filters")],1):e._e(),e._l(e.feeds,(function(e){return r("v-col",{key:e.src,attrs:{cols:"12",xl:"2",lg:"3",md:"4",sm:"6",xs:"12"}},[r("v-card",{staticClass:"pa-2",attrs:{flat:"",tile:""}},[r("ListItem",{attrs:{item:e}})],1)],1)}))]):e._t("default",[r("v-col",{attrs:{cols:"12"}},[r("NoData")],1)])],2)],1)},D=[],J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-lazy",{attrs:{options:{threshold:.9},"min-height":"200",transition:"fade-transition"}},[e.item?r("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374","min-height":"450"}},[r("v-img",{attrs:{height:"250",src:e.item.src,"lazy-src":e.item.src}}),r("v-card-title",[e.item.isVideo?r("div",[r("v-chip",{staticClass:"ma-2",attrs:{color:"deep-purple accent-4",label:"","text-color":"white"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-video")]),e._v(" "+e._s(e.item.count)+" views ")],1)],1):r("div",[r("v-chip",{staticClass:"ma-2",attrs:{color:"pink",label:"","text-color":"white"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-image")]),e._v(" "+e._s(e.item.count)+" likes ")],1)],1)]),r("v-card-text",[r("div",{staticClass:"desc"},[e._v(e._s(e.item.caption))])])],1):e._e()],1)},B=[],G={name:"ListItem",props:{item:{type:Object,default:function(){return{}}}}},H=G,K=r("b0af"),Q=r("99d9"),W=r("adda"),X=r("b687"),Y=Object(V["a"])(H,J,B,!1,null,null,null),Z=Y.exports;k()(Y,{VCard:K["a"],VCardText:Q["a"],VCardTitle:Q["b"],VChip:R["a"],VIcon:I["a"],VImg:W["a"],VLazy:X["a"]});var ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"d-flex justify-center mb-12"},[n("v-img",{attrs:{contain:"","lazy-src":r("4c76"),"max-height":"500","max-width":"500",src:r("4c76")}})],1)])],1)],1)},te=[],re={name:"NoData"},ne=re,ae=r("62ad"),ce=r("a523"),oe=r("0fd9"),ie=Object(V["a"])(ne,ee,te,!1,null,null,null),se=ie.exports;k()(ie,{VCol:ae["a"],VContainer:ce["a"],VImg:W["a"],VRow:oe["a"]});var ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.filters,(function(t){return r("v-chip",{key:t,staticClass:"ma-2",attrs:{"text-color":t===e.currentFilter?"white":"deep-purple accent-3",color:t===e.currentFilter?"deep-purple accent-3":"white"},on:{click:function(r){return e.change_filter(t)}}},[r("v-avatar",{attrs:{left:""}},[r("v-icon",[e._v("mdi-filter")])],1),e._v(" "+e._s(t)+" ")],1)})),1)},le=[],de=(r("b64b"),{name:"Users",data:function(){return{users:d}},computed:Object(s["a"])({filters:function(){return Object.keys(p)}},Object(u["c"])(["currentFilter"])),methods:Object(s["a"])({},Object(u["b"])([_]))}),fe=de,me=Object(V["a"])(fe,ue,le,!1,null,null,null),pe=me.exports;k()(me,{VAvatar:C["a"],VChip:R["a"],VIcon:I["a"]});var ve={name:"List",computed:Object(s["a"])({},Object(u["c"])(["feeds","loading"])),components:{ListItem:Z,NoData:se,Filters:pe}},be=ve,he=r("8e36"),ge=Object(V["a"])(be,A,D,!1,null,null,null),_e=ge.exports;k()(ge,{VCard:K["a"],VCol:ae["a"],VContainer:ce["a"],VProgressLinear:he["a"],VRow:oe["a"]});var Oe={name:"Main",mounted:function(){this.fetch_data({username:l})},components:{Users:S,Search:z,List:_e},methods:Object(s["a"])({},Object(u["b"])([v]))},je=Oe,we=Object(V["a"])(je,o,i,!1,null,null,null),xe=we.exports;k()(we,{VCol:ae["a"],VContainer:ce["a"],VRow:oe["a"]});var ye={name:"App",components:{Main:xe},data:function(){return{}}},Ve=ye,Fe=r("7496"),ke=r("40dc"),Ce=r("f6c4"),Re=r("2a7f"),Ie=Object(V["a"])(Ve,a,c,!1,null,null,null),Ne=Ie.exports;k()(Ie,{VApp:Fe["a"],VAppBar:ke["a"],VMain:Ce["a"],VToolbarTitle:Re["a"]});var Se,Ue,Ee={feeds:{},currentUser:null,currentFeedsNumber:0,loading:!1,filter:"all"},Te=(r("4de4"),r("ade3")),$e=(r("96cf"),r("1da1")),Le=(r("99af"),r("d81d"),r("fb6a"),r("d3b7"),r("ac1f"),r("5319"),r("2909")),Me=r("3835"),Pe="TS",qe=36e5,ze=function(e,t){Je(e),localStorage.setItem(e,JSON.stringify(t)),localStorage.setItem("".concat(Pe).concat(e),Date.now())},Ae=function(e){return parseInt(Date.now())-parseInt(localStorage.getItem("".concat(Pe).concat(e)))<qe},De=function(e){return JSON.parse(localStorage.getItem(e))},Je=function(e){localStorage.removeItem(e),localStorage.removeItem("".concat(Pe).concat(e))},Be=function(e){var t=e.length;return t>m?"".concat(e.substring(0,m),"......"):e},Ge=function(e){var t=e.edges;if(!t)throw Error("bad videos data");return t.map((function(e){var t=e.node,r=t.thumbnail_src,n=t.video_view_count,a=t.is_video,c=t.taken_at_timestamp,o=Object(Me["a"])(t.edge_media_to_caption.edges,1),i=o[0].node.text;return{src:r,count:n,isVideo:a,time:c,caption:Be(i)}}))},He=function(e){var t=e.edges;if(!t)throw Error("bad photos data");return t.map((function(e){var t=e.node,r=t.thumbnail_src,n=t.edge_media_preview_like.count,a=t.is_video,c=t.taken_at_timestamp,o=Object(Me["a"])(t.edge_media_to_caption.edges,1),i=o[0].node.text;return{src:r,count:n,isVideo:a,time:c,caption:Be(i)}}))},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.graphql.user;if(!t)throw Error("bad response");var r=t.edge_felix_video_timeline,n=t.edge_owner_to_timeline_media,a=Ge(r),c=He(n);return console.log(a),[].concat(Object(Le["a"])(a),Object(Le["a"])(c)).sort((function(e,t){return t.time-e.time}))},Qe=function(){var e=Object($e["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=p[n],!Ae(t)){e.next=5;break}a=De(t),e.next=14;break;case 5:return e.next=7,fetch(f.replace(":username",t));case 7:return o=e.sent,console.log(f.replace(":username",t)),e.next=11,o.json();case 11:o=e.sent,a=Ke(o),ze(t,a);case 14:return a=c?a.filter(c):a,console.log(Number(r)),Number(r)<a.length&&(a=a.slice(0,r)),e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),We=(Se={},Object(Te["a"])(Se,v,(function(e,t){return Object($e["a"])(regeneratorRuntime.mark((function r(){var n,a,c,o,i,s,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=e.state,c=e.dispatch,r.prev=1,console.log({payload:t}),o=t.data?t.data:t,i=o.username,s=o.numberOfFeeds,c({type:b}),c({type:g,username:i}),r.next=8,Qe(i,s,a.filter);case 8:u=r.sent,n(v,u),r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](1),console.log(r.t0),n(O);case 16:return r.prev=16,c({type:h}),r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[1,12,16,19]])})))()})),Object(Te["a"])(Se,g,(function(e,t){return Object($e["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.commit,a=t.username,n(g,a);case 3:case"end":return r.stop()}}),r)})))()})),Object(Te["a"])(Se,b,(function(e){return Object($e["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,r(b);case 2:case"end":return t.stop()}}),t)})))()})),Object(Te["a"])(Se,h,(function(e){return Object($e["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,r(h);case 2:case"end":return t.stop()}}),t)})))()})),Object(Te["a"])(Se,_,(function(e,t){return Object($e["a"])(regeneratorRuntime.mark((function r(){var n,a,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.dispatch,a=e.state,c=e.commit,c(_,t),n({type:v,data:{username:a.currentUser,numberOfFeeds:a.currentFeedsNumber}});case 3:case"end":return r.stop()}}),r)})))()})),Se),Xe=(Ue={},Object(Te["a"])(Ue,v,(function(e,t){e.feeds=t,e.currentFeedsNumber=t.length})),Object(Te["a"])(Ue,g,(function(e,t){e.currentUser=t})),Object(Te["a"])(Ue,b,(function(e){e.loading=!0})),Object(Te["a"])(Ue,h,(function(e){e.loading=!1})),Object(Te["a"])(Ue,_,(function(e,t){e.filter=t})),Object(Te["a"])(Ue,O,(function(e){e.feeds=[],e.currentFeedsNumber=null})),Ue),Ye={feeds:function(e){return e.feeds},currentUser:function(e){return e.currentUser},currentFeedsNumber:function(e){return e.currentFeedsNumber},loading:function(e){return e.loading},currentFilter:function(e){return e.filter}};n["a"].use(u["a"]);var Ze=new u["a"].Store({state:Ee,mutations:Xe,actions:We,getters:Ye}),et=r("f309");n["a"].use(et["a"]);var tt=new et["a"]({});n["a"].config.productionTip=!1,new n["a"]({store:Ze,vuetify:tt,render:function(e){return e(Ne)}}).$mount("#app")}});
//# sourceMappingURL=app.c510ca87.js.map